<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SSM PRO | API Live</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * { font-family: 'Space Grotesk', sans-serif; }
        body { background: #080a12; color: white; overflow-x: hidden; }
        .glass { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(15px); border: 1px solid rgba(255, 255, 255, 0.08); }
        .app-item { min-width: 90px; cursor: pointer; transition: 0.3s; opacity: 0.6; }
        .app-item.active { opacity: 1; transform: translateY(-5px); }
        .app-item.active .icon-box { border-color: #6366f1; box-shadow: 0 0 20px rgba(99, 102, 241, 0.4); }
        .service-card { animation: fadeIn 0.5s ease forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .loader { border-top-color: #6366f1; animation: spinner 0.6s linear infinite; }
        @keyframes spinner { to { transform: rotate(360deg); } }
    </style>
</head>
<body class="pb-24">

    <header class="sticky top-0 z-50 px-6 py-4 glass border-b border-white/5 flex justify-between items-center">
        <div class="flex items-center gap-2">
            <div class="w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center shadow-lg shadow-indigo-500/50">
                <i class="fas fa-bolt text-white"></i>
            </div>
            <span class="text-xl font-bold italic">SSM<span class="text-indigo-500">PRO</span></span>
        </div>
        <div id="loading-status" class="hidden"><div class="loader w-5 h-5 border-2 border-white/20 rounded-full"></div></div>
    </header>

    <div class="px-6 py-6">
        <div class="flex gap-4 overflow-x-auto no-scrollbar pb-2" id="category-list">
            <div onclick="filterByApp('Instagram', this)" class="app-item active flex flex-col items-center gap-2">
                <div class="icon-box w-14 h-14 rounded-2xl glass border border-white/10 flex items-center justify-center bg-gradient-to-br from-pink-500/20 to-purple-600/20">
                    <i class="fab fa-instagram text-2xl text-pink-500"></i>
                </div>
                <span class="text-[10px] font-bold uppercase tracking-widest">Insta</span>
            </div>
            <div onclick="filterByApp('TikTok', this)" class="app-item flex flex-col items-center gap-2">
                <div class="icon-box w-14 h-14 rounded-2xl glass border border-white/10 flex items-center justify-center">
                    <i class="fab fa-tiktok text-2xl text-white"></i>
                </div>
                <span class="text-[10px] font-bold uppercase tracking-widest">TikTok</span>
            </div>
            <div onclick="filterByApp('YouTube', this)" class="app-item flex flex-col items-center gap-2">
                <div class="icon-box w-14 h-14 rounded-2xl glass border border-white/10 flex items-center justify-center">
                    <i class="fab fa-youtube text-2xl text-red-600"></i>
                </div>
                <span class="text-[10px] font-bold uppercase tracking-widest">YouTube</span>
            </div>
            <div onclick="filterByApp('Telegram', this)" class="app-item flex flex-col items-center gap-2">
                <div class="icon-box w-14 h-14 rounded-2xl glass border border-white/10 flex items-center justify-center">
                    <i class="fab fa-telegram-plane text-2xl text-blue-400"></i>
                </div>
                <span class="text-[10px] font-bold uppercase tracking-widest">TG</span>
            </div>
        </div>
    </div>

    <main class="px-6 space-y-4" id="services-container">
        <div class="text-center py-20 text-gray-500">Xidmətlər yüklənir...</div>
    </main>

    <script>
        const API_KEY = '8b6568db3c7b5625e82b9d5fc6acb8bd'; // <--- BURA ÖZ API KEYİNİ YAPIŞDIR
        const PROXY_URL = 'https://api.allorigins.win/raw?url='; // CORS problemi olmasın deyə
        const API_URL = `https://panelbaku.com/api/v2?key=${API_KEY}&action=services`;

        let allServices = [];

        async function fetchServices() {
            document.getElementById('loading-status').classList.remove('hidden');
            try {
                const response = await fetch(PROXY_URL + encodeURIComponent(API_URL));
                allServices = await response.json();
                filterByApp('Instagram', document.querySelector('.app-item'));
            } catch (error) {
                document.getElementById('services-container').innerHTML = `<div class="text-red-500 text-center">API Xətası! Key-i yoxlayın.</div>`;
            }
            document.getElementById('loading-status').classList.add('hidden');
        }

        function filterByApp(appName, element) {
            // UI Yeniləmə
            document.querySelectorAll('.app-item').forEach(i => i.classList.remove('active'));
            element.classList.add('active');

            const container = document.getElementById('services-container');
            container.innerHTML = '';

            // PanelBaku-dan gələn xidmətləri filtrlə (Kateqoriya adında proqram adı varsa)
            const filtered = allServices.filter(s => s.category.toLowerCase().includes(appName.toLowerCase()));

            if(filtered.length === 0) {
                container.innerHTML = `<div class="text-center py-10 text-gray-500">${appName} üçün xidmət tapılmadı.</div>`;
                return;
            }

            filtered.forEach(service => {
                const card = `
                <div class="service-card glass p-5 rounded-[24px] border border-white/5 relative overflow-hidden group">
                    <div class="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-30 transition">
                        <i class="fas fa-bolt text-4xl"></i>
                    </div>
                    <div class="flex justify-between mb-2">
                        <span class="text-[10px] text-indigo-400 font-bold tracking-tighter uppercase">${service.category}</span>
                        <span class="text-[10px] text-gray-600 font-mono">ID: ${service.service}</span>
                    </div>
                    <h3 class="font-bold text-sm leading-tight mb-4 pr-10">${service.name}</h3>
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="text-[10px] text-gray-500 uppercase">1000 ədəd</p>
                            <p class="text-xl font-black">${service.rate} <span class="text-xs font-normal">₼</span></p>
                        </div>
                        <button class="bg-white text-black px-5 py-2.5 rounded-xl font-bold text-xs shadow-xl shadow-white/5 active:scale-95 transition">
                            Sifariş
                        </button>
                    </div>
                </div>`;
                container.insertAdjacentHTML('beforeend', card);
            });
        }

        // Başlat
        fetchServices();
    </script>
</body>
                    </html>
